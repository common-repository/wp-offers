/*! For license information please see wp-offers-store.min.js.LICENSE.txt */
(()=>{"use strict";const e=window.wp.data;function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var n=(0,e.createReduxStore)("wpo/tax/category",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"SET":return t(r.categories);case"ADD":return[].concat(t(e),[r.category])}return e},actions:{set:function(e){return{type:"SET",categories:e}},add:function(e){return{type:"ADD",category:e}}},selectors:{getAll:function(e){return e}}});(0,e.register)(n);const o=window.lodash;function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={mediaUpload:!1,isNew:!1,user:{},notices:[],taxonomies:{},featuredImage:{}},f=(0,e.createReduxStore)("wpo/data",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_NEW":return c(c({},e),{},{isNew:t.isNew});case"UPLOAD_PERMISSION":return c(c({},e),{},{mediaUpload:t.isAllow});case"USER_DATA":return c(c({},e),{},{user:t.user});case"ADD_NOTICE":return c(c({},e),{},{notices:[].concat(a(e.notices),a(t.notices))});case"REMOVE_NOTICE":return c(c({},e),{},{notices:a((0,o.reject)(e.notices,{id:t.noticeId}))});case"ADD_TAX":return c(c({},e),{},{taxonomies:c(c({},e.taxonomies),{},s({},t.tax,t.data))});case"UPDATE_FEATURED_IMAGE":return c(c({},e),{},{featuredImage:c({},t.image)})}return e},actions:{setIsNew:function(e){return{type:"UPDATE_DATE",isNew:e}},setUploadMediaPermission:function(e){return{type:"UPLOAD_PERMISSION",isAllow:e}},setUserData:function(e){return{type:"USER_DATA",user:e}},addNotice:function(e){return{type:"ADD_NOTICE",notices:e}},removeNotice:function(e){return{type:"REMOVE_NOTICE",noticeId:e}},updateTaxData:function(e,t){return{type:"ADD_TAX",tax:e,data:t}},updateFeaturedImage:function(e){return{type:"UPDATE_FEATURED_IMAGE",image:e}}},selectors:{canPublishPost:function(e){var t=e.user;return t&&t.capabilities&&t.capabilities.publish_posts},canEditPost:function(e){var t=e.user;return t&&t.capabilities&&t.capabilities.edit_posts},canManageCategories:function(e){var t=e.user;return t&&t.capabilities&&t.capabilities.manage_categories},canUploadMedia:function(e){return e.mediaUpload},getNotices:function(e){return e.notices},isTaxQueryable:function(e,t){var r=e.taxonomies;return r[t]&&r[t].visibility&&r[t].visibility.publicly_queryable},getAll:function(e){return e},getFeaturedImag:function(e){return e.featuredImage}}});function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,e.register)(f);var g=(0,e.createReduxStore)("wpo/post",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT":return t.post;case"UPDATE_TITLE":return Object.assign({},e,{title:Object.assign({},e.title,{raw:t.title})});case"UPDATE_FEATURED_MEDIA":return d(d({},e),{},{featured_media:t.featured_media});case"UPDATE_DATE":return d(d({},e),{},{date:t.date});case"UPDATE_META":return Object.assign({},e,{meta:Object.assign({},e.meta,y({},t.metaKey,t.metaValue))});case"UPDATE_TAXONOMY":return Object.assign({},e,y({},t.taxonomy,t.taxValue))}return e},actions:{init:function(e){return{type:"INIT",post:e}},updateTitle:function(e){return{type:"UPDATE_TITLE",title:e}},updateFeaturedMedia:function(e){return{type:"UPDATE_FEATURED_MEDIA",featured_media:e}},updateDate:function(e){return{type:"UPDATE_DATE",date:e}},updateMeta:function(e,t){return{type:"UPDATE_META",metaKey:e,metaValue:t}},updateTaxonomy:function(e,t){return{type:"UPDATE_TAXONOMY",taxonomy:e,taxValue:t}}},selectors:{get:function(e){return e},getMeta:function(e,t,r){var n=e.meta,o=n&&n[t];return void 0===o?r:o},getMetaAll:function(e){return e.meta},getTitleRaw:function(e){var t=e.title;return void 0!==t&&void 0!==t.raw?t.raw:""},getMedia:function(e){return e.featured_media},getCategory:function(e){return e["wpo-category"]},getStore:function(e){return e["wpo-store"]}}});(0,e.register)(g);var b=(0,e.createReduxStore)("wpo/saved",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SAVE"===t.type?t.post:e},actions:{save:function(e){return{type:"SAVE",post:e}}},selectors:{get:function(e){return e}}});function m(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,e.register)(b);var O=(0,e.createReduxStore)("wpo/tax/store",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET":return m(t.stores);case"ADD":return[].concat(m(e),[t.store])}return e},actions:{set:function(e){return{type:"SET",stores:e}},add:function(e){return{type:"ADD",store:e}}},selectors:{getAll:function(e){return e}}});(0,e.register)(O)})();